(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,n){e.exports=n.p+"static/media/top-tracks.4b61606a.jpg"},115:function(e,t,n){e.exports=n(230)},120:function(e,t,n){},157:function(e,t,n){},158:function(e,t,n){},159:function(e,t,n){},160:function(e,t,n){},161:function(e,t,n){},162:function(e,t,n){e.exports=n.p+"static/media/bb-placeholder.cdedb10b.jpg"},163:function(e,t,n){},224:function(e,t,n){},225:function(e,t,n){},226:function(e,t,n){},227:function(e,t,n){},228:function(e,t,n){},229:function(e,t,n){},230:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"app",function(){return O}),n.d(a,"auth",function(){return D}),n.d(a,"user",function(){return V}),n.d(a,"topHistory",function(){return be}),n.d(a,"playlist",function(){return Ie}),n.d(a,"playlistPopup",function(){return we});var r=n(0),o=n.n(r),c=n(46),i=n.n(c),s=(n(120),n(6)),l=n(7),u=n(10),p=n(11),f=n(8),m=n(39),d=n(40),h=n(24),y=n(238),b=n(111),v=n(65),g=n(103),E=n(15),_=Object(E.fromJS)({});function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_;return(arguments.length>1?arguments[1]:void 0).type,e}var k=n(30),j=n.n(k),S={API_URL:"https://api.spotify.com/v1",REALM_APP_ID:"playlist-app-ectuj",SPOTIFY_AUTHORIZE_URL:"https://accounts.spotify.com/authorize",SPOTIFY_AUTH_SCOPES:"playlist-modify-public",SPOTIFY_CLIENT_ID:"11350c12c94648f5b300ecb1a560216a",CALLBACK_URL:"".concat(window.location.origin,"/billboardify/callback")},w=n(12),N=function(e,t){var n=e;return Object(w.isObject)(t)&&!Object(w.isEmpty)(t)&&(n+="?"+Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")),n},T=function(){var e=window.location.href.split("#access_token=");return Object(w.last)(e)},R=n(104),P=n.n(R)()({basename:"/billboardify"}),I="auth/SET_USER_LOGGED_IN",C=function(){return function(e){var t={client_id:S.SPOTIFY_CLIENT_ID,redirect_uri:S.CALLBACK_URL,scope:S.SPOTIFY_AUTH_SCOPES,response_type:"token"},n=N(S.SPOTIFY_AUTHORIZE_URL,t);window.location.href=n}},A=Object(E.fromJS)({isLoggedIn:!1});function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A;switch((arguments.length>1?arguments[1]:void 0).type){case I:return e.set("isLoggedIn",!0);default:return e}}var L=n(50),x=n(105),U=n.n(x),F=n(106),B=n.n(F).a.create({baseURL:S.API_URL,responseType:"json",headers:{Accept:"application/json","Content-Type":"application/json"}}),H=U()(B),W=function(e,t){return Object(w.last)(function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.errorSuffix,r=void 0===a?"_FAIL":a,o=n.successSuffix,c=void 0===o?"_SUCCESS":o;if("undefined"!==typeof e.type){var i=e.type;t=[i,"".concat(i).concat(c),"".concat(i).concat(r)]}else{if("undefined"===typeof e.types)throw new Error('Action needs to have "type" or "types" key which is not null');t=e.types}return t}(e,t))},Y=function(){return j.a.get("accessToken")},z=function(){return function(e,t){var n=Y(),a=function(e){return Object(w.get)(e,["routing","location","pathname"])}(t());if(j.a.set("redirectTo",a),!Object(w.isNil)(n))return e(C());P.replace("/login")}},J=function(e){var t=Object(w.get)(e,"error.response.status"),n=e.error,a=e.action,r=e.next,o=e.options,c=e.dispatch;if(function(e){return 401===e}(t))return c(z());var i={text:Object(w.get)(n,"response.statusText",n.message),code:Object(w.get)(n,"response.status")},s={type:W(a,o),error:i,payload:Object(w.get)(a,"payload")};return r(s),s},M=function(e){var t=e.endpoint,n=e.type,a=e.types,r=e.payload,o=e.method,c=void 0===o?"GET":o,i=Object(L.a)(e,["endpoint","type","types","payload","method"]);return function(e){var o=function(e){return e?{Authorization:"Bearer ".concat(e)}:{}}(Y());return e({type:n,types:a,payload:Object(m.a)({},r,{request:Object(m.a)({url:t,method:c,headers:Object(m.a)({},o)},i),options:{onError:J}})})}},G="user/FETCH_USER_PROFILE_SUCCESS",q=function(e){return e.user.get("user")},K=Object(E.fromJS)({user:{},isLoadingUser:!1});function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return e.set("user",Object(E.fromJS)(t.payload.data));default:return e}}var X=n(27),Q=n(5),Z=n.n(Q),$=n(9),ee=n(81),te={id:S.REALM_APP_ID,timeout:1e4},ne=new ee.a(te),ae=function(){var e=Object($.a)(Z.a.mark(function e(){var t,a,r;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n(153),a=ee.b.anonymous(),e.prev=2,e.next=5,ne.logIn(a);case 5:return r=e.sent,t(r.id===ne.currentUser.id),e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(2),console.error("Failed to log in",e.t0);case 13:case"end":return e.stop()}},e,null,[[2,10]])}));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object($.a)(Z.a.mark(function e(t,n){var a,r,o;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={_id:n},r={projection:{_id:0}},e.next=5,t.findOne(a,r);case 5:return o=e.sent,e.abrupt("return",o.ranking);case 9:return e.prev=9,e.t0=e.catch(0),console.error("Failed to get ranking of ".concat(n),e.t0),e.abrupt("return",null);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t,n){return e.apply(this,arguments)}}(),oe=function(){var e=Object($.a)(Z.a.mark(function e(t,n){var a,r;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.uri){e.next=2;break}return e.abrupt("return",{trackName:n.title,trackArtist:n.artist,track_info:{uri:null},artist_info:{genres:"N/A"}});case 2:return e.prev=2,a={_id:n.uri},r={projection:{_id:0}},e.abrupt("return",t.findOne(a,r));case 8:return e.prev=8,e.t0=e.catch(2),console.error("Failed to get track info of ".concat(n.uri),e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}},e,null,[[2,8]])}));return function(t,n){return e.apply(this,arguments)}}(),ce=function(){var e=Object($.a)(Z.a.mark(function e(t){var n,a,r,o,c,i;return Z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae();case 3:return n=e.sent,console.log("Successfully logged in!"),a=n.mongoClient("mongodb-atlas"),r=a.db("data").collection("billboard_rankings"),o=a.db("data").collection("spotify_info"),e.next=10,re(r,t);case 10:return c=e.sent,e.next=13,Promise.all(c.map(function(e){return oe(o,e)}));case 13:return i=e.sent,e.abrupt("return",i);case 17:e.prev=17,e.t0=e.catch(0),console.error("Failed to get Top 50 of ".concat(t),e.t0);case 20:case"end":return e.stop()}},e,null,[[0,17]])}));return function(t){return e.apply(this,arguments)}}(),ie="history/CLEAR_TOP_50",se="history/FETCH_TOP_50_SUCCESS",le="history/SET_DATE",ue=function(e){return e.topHistory.get("tracks")},pe=function(e){return e.topHistory.get("date")},fe=Object(X.createSelector)(ue,function(e){return Object(E.fromJS)({tracks:e})}),me=Object(X.createSelector)(ue,function(e){return e.map(function(e){return e.getIn(["track_info","uri"])})}),de=function(e){return e.getIn(["track_info","album","images",0,"url"])},he=(Object(X.createSelector)(ue,function(e){return e.map(de)}),function(){return function(e,t){var n=pe(t());ce(n).then(function(t){e({type:ie}),e({type:se,payload:t})})}}),ye=Object(E.fromJS)({tracks:{},date:"2020-11-18",isLoading:!1});function be(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie:return e.set("tracks",Object(E.Map)());case se:return e.set("tracks",Object(E.fromJS)(t.payload));case le:return console.log("The payload is",t.payload),e.set("date",t.payload);default:return e}}var ve="playlistPopup/OPEN_PLAYLIST_POPUP",ge="playlistPopup/CLOSE_PLAYLIST_POPUP",Ee="playlistPopup/SET_PLAYLIST_IMAGES",_e=function(e){return e.playlistPopup.get("uri")},Oe=Object(X.createSelector)(_e,function(e){return!Object(w.isNil)(e)}),ke=Object(X.createSelector)(function(e){return e.playlistPopup.get("playlistImages")},function(e){return e&&0!==e.size?e.getIn([1,"url"])||e.getIn([0,"url"]):null}),je=Object(X.createStructuredSelector)({playlistUri:_e,playlistImage:ke,isVisible:Oe}),Se=Object(E.fromJS)({uri:null,playlistImages:[]});function we(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ve:return e.set("uri",t.payload);case ge:return e.set("uri",null).set("playlistImages",Object(E.fromJS)([]));case Ee:return e.set("playlistImages",Object(E.fromJS)(t.payload));default:return e}}var Ne="playlist/CREATE_PLAYLIST",Te="playlist/CREATE_PLAYLIST_SUCCESS",Re=function(e){return function(t){return t(function(e){return function(t,n){var a=q(n()).get("id");return a?t(M({type:"playlist/GET_PLAYLIST_IMAGE",url:"/users/".concat(a,"/playlists/").concat(e,"/images"),method:"GET"})):null}}(e)).then(function(e){return t((n=e.payload.data,{type:Ee,payload:n}));var n})}},Pe=Object(E.fromJS)({isCreatingPlaylist:!1});function Ie(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe;switch((arguments.length>1?arguments[1]:void 0).type){case Ne:return e.set("isCreatingPlaylist",!0);case Te:return e.set("isCreatingPlaylist",!1);default:return e}}var Ce=n(236),Ae=n(49),De=n.n(Ae),Le=function(e,t){var n=new Date(e);return n.setDate(n.getDate()+t),n},xe=Object(X.createStructuredSelector)({user:q,date:pe,topHistory:fe}),Ue=function(){return function(e,t){var n=t(),a=me(n).filter(function(e){return null!=e}),r=pe(n);if(a.size)return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n){console.log("playlist state is",n());var a=q(n());console.log("user is",a);var r=a.get("id");return r?t(M({type:Ne,url:"/users/".concat(r,"/playlists"),method:"POST",data:e})):null}}({name:"Billboard Top 50 \u2022 Week of ".concat(r)})).then(function(t){var n=Object(w.get)(t,"payload.data"),r=Object(w.get)(n,"id"),o=Object(w.get)(n,"uri");if(Object(w.isNil)(r)||!a.size)return null;e(function(e,t){return function(n,a){var r=q(a()).get("id");return r?n(M({type:"playlist/ADD_TRACKS_TO_PLAYLIST",url:"users/".concat(r,"/playlists/").concat(e,"/tracks"),method:"POST",data:{uris:t}})):null}}(r,a.toJS())).then(function(){e({type:ve,payload:o}),e(Re(r))})})}},Fe=(n(157),function(e){var t=e.children;return o.a.createElement("div",{className:"modal"},o.a.createElement("div",{className:"modal__content"},t))});Fe.defaultProps={children:void 0};var Be=Fe;n(158);function He(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(f.a)(e);if(t){var r=Object(f.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(p.a)(this,n)}}var We=function(e){Object(u.a)(n,e);var t=He(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.playlistUri,n=e.playlistImage;return e.isVisible?o.a.createElement(Be,null,o.a.createElement("div",{className:"playlist-popup"},o.a.createElement("h3",{className:"playlist-popup__title"},"Hooray!"),o.a.createElement("p",{className:"playlist-popup__info"},"Your new playlist is now available in your Spotify account."),o.a.createElement("div",{className:"save-form-success"},!!n&&o.a.createElement("a",{href:t,className:"playlist-popup__image-link",title:"Open Playlist in Spotify"},o.a.createElement("img",{src:n,alt:"Playlist cover",className:"playlist-popup__image"})),o.a.createElement("div",{className:"ok-sign"},o.a.createElement("svg",{className:"progress",width:"150",height:"150",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",null,o.a.createElement("circle",{className:"circle_base",r:"72",cy:"75",cx:"75",fill:"none"}),o.a.createElement("circle",{className:"circle_animation",r:"72",cy:"75",cx:"75",fill:"none"}))),o.a.createElement("i",{className:"icon ion-android-done"}))),o.a.createElement("div",{className:"playlist__buttons"},o.a.createElement("a",{className:"btn btn-inline btn-dark",href:t,onClick:this.props.closePlaylistPopup},"Open Playlist"),o.a.createElement("button",{onClick:this.props.closePlaylistPopup,className:"btn btn-inline btn-default"},"Close")))):null}}]),n}(r.Component),Ye=je,ze={closePlaylistPopup:function(){return{type:ge}}},Je=Object(h.b)(Ye,ze)(We);var Me=function(e){var t=document.querySelector('meta[name="theme-color"]');t&&(t.content=e)};n(159);function Ge(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(f.a)(e);if(t){var r=Object(f.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(p.a)(this,n)}}var qe=function(e){Object(u.a)(n,e);var t=Ge(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.themeColor;e&&Me(e)}},{key:"render",value:function(){var e=this.props,t=e.headerImageSrc,n=e.title,a=e.children;return o.a.createElement("div",{className:"list-page"},o.a.createElement("div",{style:{backgroundImage:"url(".concat(t,")")},className:"list-page__image"}),o.a.createElement("h1",{className:"list-page__title"},"Billboard Top 50"),o.a.createElement("h2",{className:"list-page__subtitle"},"Week of ",n),o.a.createElement("div",{className:"list-page__content"},o.a.createElement("div",{className:"list-page__list"},a)))}}]),n}(r.Component),Ke=(n(160),function(e){var t=e.src;return o.a.createElement("span",{className:"track__cover",style:{backgroundImage:"url(".concat(t,")")}})}),Ve=(n(161),n(162)),Xe=function(e){var t=e.track,n=e.orderNumber;return t.getIn(["track_info","uri"])?o.a.createElement("a",{className:"track-history__item",href:t.getIn(["track_info","uri"])},o.a.createElement("span",{className:"order-number"},n),o.a.createElement("span",{className:"track__info"},o.a.createElement(Ke,{src:t.getIn(["track_info","album","images",2,"url"])}),o.a.createElement("span",{className:"track__summary"},o.a.createElement("span",{className:"artist__genres"},t.getIn(["artist_info","genres"]).slice(0,3).join(", ")),o.a.createElement("span",{className:"track__artist"},t.getIn(["track_info","artists",0,"name"])),o.a.createElement("span",{className:"track__track-name"},t.getIn(["track_info","name"]))))):o.a.createElement("a",{className:"track-history__item",href:"/#"},o.a.createElement("span",{className:"order-number"},n),o.a.createElement("span",{className:"track__info"},o.a.createElement(Ke,{src:Ve}),o.a.createElement("span",{className:"track__summary"},o.a.createElement("span",{className:"track__artist"},t.get("trackArtist")),o.a.createElement("span",{className:"track__track-name"},t.get("trackName")))))},Qe=n(52),Ze=n(73),$e=n.n(Ze);n(163);function et(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(f.a)(e);if(t){var r=Object(f.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(p.a)(this,n)}}var tt=window,nt=function(e){Object(u.a)(n,e);var t=et(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={isOnTop:!0},a.scrollWatcher=a.scrollWatcher.bind(Object(Qe.a)(a)),a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){tt.addEventListener("scroll",this.scrollWatcher)}},{key:"componentWillUnmount",value:function(){tt.removeEventListener("scroll",this.scrollWatcher)}},{key:"scrollWatcher",value:function(){var e=this.state.isOnTop,t=tt.pageYOffset||0;e&&t>0?this.setState({isOnTop:!1}):e||0!==t||this.setState({isOnTop:!0})}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.description,a=e.onActionClick,r=this.state.isOnTop;return o.a.createElement("div",{className:$e()("action-buttons",{"action-buttons--scrolled":!r})},o.a.createElement("div",{className:"action-buttons__info"},o.a.createElement("div",{className:"action-buttons__title"},t),n),o.a.createElement("div",{className:"action-buttons__button"},o.a.createElement("button",{className:"btn btn-dark",onClick:a},"Create Playlist")))}}]),n}(r.Component),at=n(29),rt=n(108),ot=n.n(rt),ct=(n(164),function(e){var t=e.onSelection,n=Object(r.useState)(new Date(De()().toDate())),a=Object(at.a)(n,2),c=a[0],i=a[1];return o.a.createElement(ot.a,{selected:c,onChange:function(e){return t(e,i)},minDate:new Date("1980-01-02"),maxDate:new Date})}),it="#C6E1DC",st="#5d42e5",lt=(n(224),n(100)),ut=function(e){var t=e.date,n=e.updateCurrentDate,a=e.topHistory,r=e.createTracksPlaylist;return o.a.createElement("div",{className:"top-history"},o.a.createElement(qe,{headerImageSrc:lt,title:t,themeColor:st},o.a.createElement("div",null,o.a.createElement(ct,{onSelection:n}),a.get("tracks").map(function(e,t){return o.a.createElement(Xe,{orderNumber:t+1,track:e,key:"".concat(t)})}),a.get("tracks").size>0&&o.a.createElement(nt,{title:"Create a Playlist",description:"This creates a playlist from the selected week's Top 50 (if available on Spotify).",onActionClick:r}))))},pt=n(237);function ft(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(f.a)(e);if(t){var r=Object(f.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(p.a)(this,n)}}var mt=function(e){Object(u.a)(n,e);var t=ft(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&window.scrollTo(0,0)}},{key:"render",value:function(){return o.a.createElement(b.a,this.props)}}]),n}(r.Component),dt=Object(pt.a)(mt),ht=n(235),yt=(n(225),function(){return o.a.createElement("div",{className:"App-navigation"},o.a.createElement(ht.a,{activeClassName:"active",className:"App-navigation__link",to:"/app"},o.a.createElement("span",{className:"icon ion-help"}),o.a.createElement("span",{className:"navigation__label"},"App Info")),o.a.createElement(ht.a,{activeClassName:"active",className:"App-navigation__link",to:"/top-tracks"},o.a.createElement("span",{class:"icon ion-podium"}," "),o.a.createElement("span",{className:"navigation__label"},"Top 50")),o.a.createElement(ht.a,{activeClassName:"active",className:"App-navigation__link",to:"/login"},o.a.createElement("span",{class:"icon ion-android-exit"}," "),o.a.createElement("span",{className:"navigation__label"},"Log Out")))});n(226);function bt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(f.a)(e);if(t){var r=Object(f.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(p.a)(this,n)}}var vt=function(e){Object(u.a)(n,e);var t=bt(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"app-help"},o.a.createElement("h1",null,"Billboardify"),o.a.createElement("p",null,"With Billboardify you can discover (or rediscover) any song that appeared on the Billboard Top 50 in the past 40 years!"),o.a.createElement("p",null,"Refresh your memories by exploring each week's Top 50, and create Spotify playlists from your favorite weeks!"),o.a.createElement("h2",null,"FAQ"),o.a.createElement("h3",null,"What's the point of this app when I can just go to Billboard's website?"),o.a.createElement("p",null,"This app allows you to save any week's Top 50 chart as a Spotify playlist, a feature that Billboard's website doesn't have. In fact, as far as I can tell, this is the only app that provides such a service."),o.a.createElement("h3",null,"Why do you need access to my Spotify account?"),o.a.createElement("p",null,"Billboardify requires a Spotify account to save playlists. Account access is client-side only and secured by the OAuth 2 authentication protocol, and your Spotify data is not stored.  For more information on the login procedure, visit this "," ",o.a.createElement("a",{href:"https://developer.spotify.com/documentation/general/guides/authorization-guide/#implicit-grant-flow",target:"_blank",rel:"noopener noreferrer"},"guide on the authorization process.")," "),o.a.createElement("h3",null,"Billboard charts go back to 1958, why don't you have those years?  And what about the bottom 50 songs in the Hot 100?"),o.a.createElement("p",null,"The songs in the app are linked to Spotify via URIs (read more about Spotify URIs "," ",o.a.createElement("a",{href:"https://community.spotify.com/t5/Spotify-Answers/What-s-a-Spotify-URI/ta-p/919201",target:"_blank",rel:"noopener noreferrer"},"here)"),", and were scraped from Billboard's website using a web scraper made in Python (see the repo below).  Although the scraper's post-1980 success rate was about 99%, its success rate declined sharply for years before 1980.  This is due to a few reasons, but the biggest reason is that a lot of the songs simply weren't on Spotify!  The web scraper's success rate was also poor for songs in the bottom half of the Hot 100, especially for years pre-dating the rise of music streaming services (roughly 2010 and before).  As it stands, many pre-2010 songs hovering near the bottom of the Top 50 have only a couple thousand plays on Spotify, so you can imagine what the bottom 50 are like.  Maybe in the future the website will be expanded, but it would require a good deal of manual searching..."),o.a.createElement("h3",null,"Can I log out or sign in with a different account?"),o.a.createElement("p",null,"Sure thing, just go to"," ",o.a.createElement("a",{href:"http://accounts.spotify.com/",target:"_blank",rel:"noopener noreferrer"},"accounts.spotify.com")," ",'and click "Log Out". To sign back in with a different account, click the icon labeled "Logout" in the nav bar on the left (at the bottom on mobile) to log out and sign in with a different account.'),o.a.createElement("h3",null,"Is this project open source?"),o.a.createElement("p",null,"Yes it is!  Clicking the GitHub logo below will take you to the repo."),o.a.createElement("div",{className:"app-help__footer"},o.a.createElement("a",{className:"footer__link",href:"https://github.com/kyleschan/billboardify",target:"_blank",rel:"noopener noreferrer",title:"Billboardify on Github"},o.a.createElement("i",{className:"ion-social-github"})))))}}]),n}(r.Component);n(227);function gt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(f.a)(e);if(t){var r=Object(f.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(p.a)(this,n)}}var Et=n(100),_t=function(e){Object(u.a)(n,e);var t=gt(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.startAppView()}},{key:"render",value:function(){var e=this.props,t=e.topHistory,n=e.date,a=e.createTracksPlaylist,r=e.updateDate,c=e.match;return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"App-container"},o.a.createElement(yt,null),o.a.createElement(Je,null),o.a.createElement("div",{className:"App-content"},o.a.createElement(b.a,{exact:!0,path:"".concat(c.url),render:function(){return o.a.createElement(Ce.a,{to:"/top-tracks"})}}),o.a.createElement(dt,{exact:!0,path:"".concat(c.url,"top-tracks"),render:function(){return o.a.createElement(ut,{date:n,updateCurrentDate:r,topHistory:t,createTracksPlaylist:a})}}),o.a.createElement(dt,{exact:!0,path:"".concat(c.url,"app"),component:vt}))),o.a.createElement("div",{className:"preload-images"},o.a.createElement("img",{key:Et,alt:"preloaded img",src:Et})))}}]),n}(r.Component),Ot=xe,kt={startAppView:function(){return function(e){console.log("Starting app view..."),e(function(e){j.a.get("accessToken")||P.replace("/login")}),e(M({type:"user/FETCH_USER_PROFILE",url:"/me"})),e(function(e){return e(he())})}},createTracksPlaylist:Ue,updateDate:function(e,t){return function(n){n(function(e){return{type:le,payload:e}}(function(e){return De()(e).format().substring(0,10)}(function(e){var t=Le(e,3-e.getDay());return t<=new Date(De()().toDate())?t:Le(t,-7)}(e)))),n(he()),t(e)}}},jt=Object(h.b)(Ot,kt)(_t),St=n(84);n(228);function wt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(f.a)(e);if(t){var r=Object(f.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(p.a)(this,n)}}var Nt=function(e){Object(u.a)(n,e);var t=wt(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){Me(it)}},{key:"render",value:function(){return o.a.createElement("span",null,o.a.createElement("div",{className:"login"},o.a.createElement("div",{className:"login__content"},o.a.createElement("h1",{className:"login__title"},"Save Billboard charts to Spotify!"),o.a.createElement("button",{className:"btn btn-primary btn-login",onClick:this.props.authorizeUser},"Sign in with Spotify"),o.a.createElement(St.a,{className:"btn-link",to:"app-info"},"What is this?")),o.a.createElement("span",{className:"login__background"})))}}]),n}(r.Component),Tt={authorizeUser:C},Rt=Object(h.b)(function(){return{}},Tt)(Nt);n(229);function Pt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(f.a)(e);if(t){var r=Object(f.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(p.a)(this,n)}}var It=function(e){Object(u.a)(n,e);var t=Pt(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=S.SPOTIFY_AUTH_SCOPES.split(" ");return o.a.createElement(Be,null,o.a.createElement("div",{className:"app-info"},o.a.createElement("h1",null,"Billboardify App"),o.a.createElement("p",null,"This app allows users to both discover and save hits from past weeks of the Billboard Top 50. It uses the Spotify Web API to save playlists, should you wish to do so."),o.a.createElement("h3",null,"Required Spotify access"),o.a.createElement("p",null,"Billboardify requires access to your Spotify account to save playlists. It uses the Spotify Implicit Grant Flow for user authorization. The app is client-side only, and your Spotify data is not stored in any server. For more information on the login procedure, visit this "," ",o.a.createElement("a",{href:"https://developer.spotify.com/documentation/general/guides/authorization-guide/#implicit-grant-flow",target:"_blank",rel:"noopener noreferrer"},"guide on the authorization process.")," "),o.a.createElement("h3",null,"Used Scopes"),o.a.createElement("p",null,"Scopes enable the application to access specific Spotify API endpoints. The set of scopes that are required for you to access this app are:",o.a.createElement("ul",{className:"scope-list"},e.map(function(e){return o.a.createElement("li",null,e)}))),o.a.createElement("br",null),o.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://developer.spotify.com/documentation/general/guides/authorization-guide/"},"Read more about Spotify scopes"),o.a.createElement("div",{className:"app-info__buttons"},o.a.createElement(St.a,{className:"btn btn-secondary",to:"/login"},"OK, got it"," ",o.a.createElement("span",{"aria-label":"OK",role:"img"},"\ud83d\udc4c\ud83c\udffb")))))}}]),n}(r.Component);function Ct(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(f.a)(e);if(t){var r=Object(f.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(p.a)(this,n)}}var At=function(e){Object(u.a)(n,e);var t=Ct(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.saveLogin()}},{key:"render",value:function(){return o.a.createElement("div",null,"Login OK")}}]),n}(r.Component),Dt={saveLogin:function(){return function(e){var t=T();if(t){j.a.set("accessToken",t);var n=j.a.get("redirectTo")||"/";j.a.remove("redirectTo"),"/login"===n&&(n="/"),P.replace(n)}else P.replace("/login");return e({type:I})}}},Lt=Object(h.b)(function(){return{}},Dt)(At);function xt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(f.a)(e);if(t){var r=Object(f.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(p.a)(this,n)}}var Ut=Object(v.b)(P),Ft=[g.a,Ut,H],Bt=d.a.apply(void 0,Ft)(d.d)(Object(d.c)(Object(m.a)({},a,{routing:v.c})),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),Ht=function(e){Object(u.a)(n,e);var t=xt(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement(h.a,{store:Bt},o.a.createElement(v.a,{history:P},o.a.createElement(y.a,null,o.a.createElement(b.a,{exact:!0,path:"/login",component:Rt}),o.a.createElement(b.a,{exact:!0,path:"/app-info",component:It}),o.a.createElement(b.a,{exact:!0,path:"/callback",component:Lt}),o.a.createElement(b.a,{path:"/",component:jt}))))}}]),n}(r.Component),Wt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Yt(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(o.a.createElement(Ht,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/billboardify",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/billboardify","/service-worker.js");Wt?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Yt(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):Yt(e)})}}()}},[[115,1,2]]]);
//# sourceMappingURL=main.7018dcba.chunk.js.map